- name: Install required Packages git epel-release
  yum:
    update_cache: yes
    name: "{{ item }}"
    state: present
  with_items:
    - git
    - epel-release
    - net-tools

- name: Install required Packages python-pip
  yum:
    update_cache: yes
    name: "{{ item }}"
    state: present
  with_items:
    - python-pip

- name: clone repo {{ repo_url }}
  git:
    repo: "{{ repo_url }}"
    dest: "{{ repo_path }}"

- name: pip install docker-py
  pip:
    name: docker-py

- name: application container
  docker_container:
    name: ggnanasekaran77-jenkins
    image: ggnanasekaran77/jenkins
    state: started
    pull: yes
    ports:
      - "8080:8080"